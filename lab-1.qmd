---
title: "Lab 1 - Data visualization"
format: html
editor: visual
---

# Questions

## Part 1

```{r}
library(tidyverse)

```

### Question 1

```{r}
midwest |> ggplot(aes(x = popdensity)) +
  geom_histogram(binwidth = 100, fill = "lightblue4") +
  labs(
    x = "Population Density",
    y = "Count",
    title = "Population density of Midwesten Counties",
    subtitle = "Binwidth = 100"
  )


```

```{r}
midwest |> ggplot(aes(x = popdensity)) +
  geom_histogram(binwidth = 1000, fill = "lightblue4") +
  labs(
    x = "Population Density",
    y = "Count",
    title = "Population density of Midwesten Counties",
    subtitle = "Binwidth = 1,000"
  )
```

```{r}
midwest |> ggplot(aes(x = popdensity)) +
  geom_histogram(binwidth = 10000, fill = "lightblue4") +
  labs(
    x = "Population Density",
    y = "Count",
    title = "Population density of Midwesten Counties",
    subtitle = "Binwidth = 10,000"
  )
```

```{r}
midwest |> ggplot(aes(x = popdensity)) +
  geom_histogram(binwidth = 100000, fill = "lightblue4") +
  labs(
    x = "Population Density",
    y = "Count",
    title = "Population density of Midwesten Counties",
    subtitle = "Binwidth = 100,000"
  )
```

Starting with the graph of binwidth 100, we see that the graph is very jagged with some tiny gaps in between the smaller values that are not very meaningful; and the larger values which are not very frequent are difficult to see. The binwidth 1,000 graph improves many of these problems, it is more visually appealing and smooth, with the less frequent larger values being visible. The 10,000 binwidth graph eliminated much of the information the reader can get from graph, as most of the values are relativity small, but all get grouped in a couple bins. Lastly, the 100,000 binwidth graph is functionally useless as almost all the data is in one bin. Ultimately, the 1,000 binwidth graph is the most usable and appropriate for this data.

### Question 2

```{r}
midwest |> ggplot(aes(y = popdensity)) +
  geom_boxplot(fill = "lightblue4") +
  labs(
    y = "Population Density",
    title = "Boxplot of Population density of Midwesten Counties"
  )
```

From the boxplot we can see a vast majority of the counties in the data set have very small population densities; with most being less than 10,000 and all but 4 are over 40,000. There are a few outliers in the data set, as we can see with the boxplot, with the observations that are well beyond the median. For example, one of these outliers is Milwaukee, which is a large city where we expect higher density compared to the other Midwest counties which are primarily rural.

### Question 3

```{r}
midwest |> ggplot(aes(x = percollege, y= percbelowpoverty, shape = state, color = state)) +
  geom_point() +
  labs(
    y = "Percent Below Poverty (%)",
    x = "Percent with a College Degree (%)",
    title = "Percent Population Below Poverty vs Percent Population with a College Degree by Midwestern State"
  )
```

From the above graph we can see that in general a higher percent population with a college degree is associated with a lower percent of population below the poverty line. The counties however, are highly clustered between 10-20% of people with a college degree, and there is considerable variation in this range. There is also a few notable outliers, firstly Menominee County has a poverty level considerably above any other county, however, does fit in the with general trend in terms of relationship with college education. Jackson County is also somewhat of an outlier in terms of overall trend, it has a 38% college education rate but one of the highest rates below poverty. The relationship appears to hold true in general for all states, and the clustering in the graph can make it difficult to see the points, however, we can see that some states like Ohio and Illinois have more variability, and in general Indiana has lower poverty at given levels of college education.

### Question 4

```{r}
midwest |> ggplot(aes(x = percollege, y= percbelowpoverty, shape = state, color = state)) +
  geom_point() +
  facet_wrap(~state)+
  geom_smooth(se = FALSE)+
  labs(
    y = "Percent Below Poverty (%)",
    x = "Percent with a College Degree (%)",
    title = "Percent Population Below Poverty vs Percent Population with a College Degree by Midwestern State"
  )
```

I prefer this plot compared to the one in Question 3, because it is less clustered and easier to see the trends, identify outliers and, still be able to compare between each state.

### Question 5

```{r}
midwest |> ggplot(aes(y = area, fill= state)) +
  geom_boxplot() +
  facet_wrap(~state)+
  labs(
    y = "State Area",
    title = "Boxplot of Area of Midwestern Counties by State"
  )
```

Indiana and Ohio have the smallest counties on average, followed by Illinois and Michigan, then Wisconsin which has the larges states by median. In terms of IQR, by the size of the boxes we can see Ohio and Illinois have limited variability, followed by Michigan, Illinois, and Wisconsin. However, Michigan has 3 outliers with 1 being very large. Marquette, Michigan is the largest county in the data set.

### Question 6

```{r}
midwest |>
  mutate(metro = if_else(inmetro == 1, "Yes", "No")) |> 
ggplot(aes(x = state, fill= metro)) +
  geom_bar(position = "fill") +
  labs(
    y = "Proportion of Counties",
    title = "Plot of Proportion of Counties in a Metropolitan Area by State"
  )

```

Ohio has the greatest percentage of counties in metro area, followed by Indiana, Michigan, Wisconsin, and Illinois with percentages of around 45%, 40%, 30%, 29% and 29% respectively.

### Question 7

## Part 2

**Enough about the Midwest!**

### Question 8

### Question 9
